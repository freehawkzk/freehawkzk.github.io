# 第一章 计算机网络概论

[TOC]

## 1.1 计算机系统基础知识

### 1.1.1 计算机系统硬件基本组成

&emsp;&emsp;计算机系统由软件和硬件组成。计算机的基本硬件系统由运算器、控制器、存储器、输入和输出设备5部分组成。运算器和控制器等部件被集成在一起，组成中央处理单元(Central Processing Unit, **CPU**)。存储器分为内存储器和外存储器。内存储器速度高、容量小；外存储器容量大、速度慢。输入和输出设备合称**外设**。

### 1.1.2 中央处理单元

&emsp;&emsp;**中央处理单元**(CPU)是计算机系统的核心部件，负责获取程序指令、对指令进行译码并加以执行。

#### 1.1.2.1 CPU的功能

- 程序控制 通过执行指令来控制程序的执行顺序。
- 操作控制 产生每条指令的操作信号并将操作信号送往对应的部件，控制相应的部件按指令的功能要求进行操作。
- 时间控制 对各种操作进行时间上的控制。
- 数据处理 通过对数据进行算术运算及逻辑运算等方式进行加工处理。对数据进行加工处理是CPU**最根本的任务**。
- 系统内部和外部的中断(异常)响应

#### 1.1.2.2 CPU的组成

&emsp;&emsp;CPU主要由运算器、控制器、寄存器组和内部总线等部件组成。

##### 1.1.2.2.1 运算器

&emsp;&emsp;运算器由算术逻辑单元(Arithmetic and logic unit, ALU)、累加器、数据缓冲寄存器和状态条件寄存器等组成，是数据加工处理部件，用于完成计算机的各种算术和逻辑运算。运算器的功能：

- (1) 执行所有的算术运算；
- (2) 执行所有的逻辑运算并进行逻辑测试。

&emsp;&emsp;运算器中各部件的功能如下：

- (1) 算术逻辑单元(ALU) ALU负责处理数据，实现对数据的算术运算和逻辑运算
- (2) 累加寄存器(AC) AC简称累加器，是一个通用寄存器，当运算器的算术逻辑单元执行算术或逻辑运算式，为ALU提供一个工作区。
- (3) 数据缓冲寄存器(DR) DR的主要作用：作为CPU和内存、外部设备之间数据传送的中转站；作为CPU和内存、外围设备速度上的缓冲；在单累加器结构的累加器中，数缓冲存储器还可以兼做操作数寄存器。
- (4) 状态条件寄存器(PSW) PSW保存由算术指令或逻辑指令运行或测试的结果建立的各种条件码内容，主要分为状态标志和控制标志。

##### 1.1.2.2.2 控制器

&emsp;&emsp;控制器用于控制整个CPU的工作，决定了计算机运行过程的自动化，一般包括指令控制逻辑、时序控制逻辑、总线控制逻辑和中断控制逻辑等部分。

&emsp;&emsp;指令控制逻辑要完成取指令、分析指令和执行指令的操作，其过程分为取指令、指令译码、按指令操作码执行、形成下一条指令地址等步骤。

- (1) 指令寄存器(IR) 当CPU执行一条指令时，先把它从内存储器取到缓冲寄存器中，再送入IR暂存，指令译码器根据IR的内容产生各种微操作指令，控制其他组成部件工作，完成所需功能。
- (2) 程序计数器(PC) PC具有寄存信息和计数两种功能，总是保持将要执行的下一条指令的地址。
- (3) 地址寄存器(AR) AR保存当前CPU所访问的内存单元的地址。
- (4) 指令译码器(ID) 指令包含操作码和操作数两部分，ID对指令中的操作码字段进行分析解释，识别该指令规定的操作，向操作控制器发出具体的控制信号，控制各部件工作，完成所需的功能。

&emsp;&emsp;时序控制逻辑为每条指令按时间顺序提供应有的控制信号。

&emsp;&emsp;总线逻辑为多个功能部件服务的信息通路的控制电路。

&emsp;&emsp;中断控制逻辑用于控制各种中断请求，并根据优先级的高低对中断请求进行排队，逐个交给CPU处理。

##### 1.1.2.2.3 寄存器组

&emsp;&emsp;寄存器组可分为专用寄存器和通用寄存器。运算器和控制器中的寄存器是专用寄存器，作用固定。通用寄存器用途广泛并可由程序员规定其用途。

#### 1.1.2.3 多核CPU

&emsp;&emsp;核心又称为内核，是CPU最重要的组成部分。

### 1.1.3 数据表示

&emsp;&emsp;各种数据在计算机中的表示的形式称为机器数，采用二进制计数。机器数对应的实际数值称为数的真值。

&emsp;&emsp;**原码**

&emsp;&emsp;数值`X`的原码记为$[X]_{yuan}$,如果机器字长为$n$,则原码的定义如下：
若$X$为纯整数，则
    $$
            [X]_{yuan} =
            \begin{cases}
            X,  & 0 \leq X \leq 2^{n-1}-1 \\
            2^{n-1}+|X|, & -(2^{n-1}-1) \leq X \leq 0
            \end{cases}
    $$
若$X$为纯小数，则
$$
            [X]_{yuan} =
            \begin{cases}
            X,  & 0 \leq X < 1 \\
            2^{0}+|X|, & -1 < X \leq 0
            \end{cases}
$$

&emsp;&emsp;**反码**

&emsp;&emsp;数值$X$的反码记为$X_{fan}$，如果机器字长为$n$,则反码的定义如下：
若$X$为纯整数，则
$$
    [X]_{fan} =
    \begin{cases}
        X,  & 0 \leq X \leq 2^{n-1}-1 \\
        2^{n-1}-1+X, & -(2^{n-1}-1) \leq X \leq 0
    \end{cases}
$$
若$X$为纯小数，则
$$
    [X]_{fan} =
    \begin{cases}
        X,  & 0 \leq X < 1 \\
        2-2^{-(n-1)}+X, & -1 < X \leq 0
    \end{cases}
$$

&emsp;&emsp;**正数的反码与原码相同，负数的反码则是其绝对值按位求反。**

&emsp;&emsp;**补码**

&emsp;&emsp;数值$X$的补码记为$X_{bu}$，如果机器字长为$n$,则补码的定义如下：
若$X$为纯整数，则
$$
    [X]_{bu} =
    \begin{cases}
        X,  & 0 \leq X \leq 2^{n-1}-1 \\
        2^{n}+X, & -2^{n-1} \leq X \leq 0
    \end{cases}
$$
若$X$为纯小数，则
$$
    [X]_{bu} =
    \begin{cases}
        X,  & 0 \leq X < 1 \\
        2+X, & -1 \leq X < 0
    \end{cases}
$$

&emsp;&emsp;**正数的补码与原码相同，负数的补码则等于其反码的末位加1.**

### 1.1.4 校验码

&emsp;&emsp;计算机系统运行时，为了确保数据在传送过程中正确无误，一是提高硬件电路的可靠性，二是提高代码的校验能力，包括差错和纠错。通常使用校验码的方法来检测传送的数据是否出错。其基本思想是把数据可能出现的编码分成两类：合法的编码和错误编码。合法编码用于传送数据，错误编码不允许在数据中出现。
&emsp;&emsp;码距，是指一个编码系统中任意两个合法编码之间至少有多少个二进制位不同。4位8421码的码距为1，传输过程中任意位出错之后都将变成另一个合法的编码，因此代码无检错能力。

#### 1.1.4.1 奇偶校验码

&emsp;&emsp; **奇偶校验**(Parity Codes)通过在编码中增加一位校验位来使编码中1的个数为奇数(奇校验)或者偶数(偶校验)，从而使码距变为2，可以发现传输过程中奇数位数据发生错误的情况，但无法发现偶数位数据发生错误的情况。常用的有水平奇偶校验、垂直奇偶校验和水平垂直校验码。

#### 1.1.4.2 海明码

&emsp;&emsp;

#### 1.1.4.3 循环冗余校验码

&emsp;&emsp;